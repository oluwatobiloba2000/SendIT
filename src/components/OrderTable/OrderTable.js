import { Table, Tag, Tooltip } from 'antd';
import { Link, useHistory } from 'react-router-dom';
import './orderTable.css';



function OrderTable({ data, loading, belongsTo}) {
    const history = useHistory();

    const columns = [
        {
            title: 'TRACK NUMBER',
            dataIndex: 'track_number',
            key: 'track_number',
            width: 120,
            render: text => <Link to={`/${belongsTo === 'user' ? 'user': 'company'}/track/order/${text}`}>{text}</Link>,
        },
        {
            title: 'ORDER PACKAGE',
            dataIndex: 'order_package',
            key: 'order_package',
            width: 250,
            ellipsis: {
                showTitle: false,
              },
              render: package_content => (
                <Tooltip placement="topLeft" title={package_content}>
                  {package_content}
                </Tooltip>
              ),
        },
        {
            title: 'DELIVERY COST',
            dataIndex: 'delivery_cost',
            key: 'delivery_cost',
            render: cost => {
    
                return (
                    <span>
                       
                     {cost ? cost : 'Not specified'}
                    </span>
                );
            }
        }, {
            title: 'PAYMENT STATUS',
            dataIndex: 'payment_status',
            key: 'payment_status',
            width: 200,
            ellipsis: {
                showTitle: false,
              },
            render: status => {
                let color = status === 'Paid' ? {backgroundColor: '#36ff3178'} : {backgroundColor: '#f77f002b', color: '#ff8300 !important'};
    
                return (
                    <Tag className="payment_status_tag" style={color}>
                        {status === 'Paid' ? <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M13.0286 9.18785C13.2389 8.49412 13.347 7.77163 13.347 7.03314C13.347 3.15532 10.3823 0 6.73868 0C3.0951 0 0.130371 3.15532 0.130371 7.03314C0.130371 10.911 3.0951 14.0663 6.73868 14.0663C7.43556 14.0663 8.11441 13.9544 8.76323 13.7306C9.24083 15.0477 10.4423 15.9844 11.8451 15.9844C13.6684 15.9844 15.1493 14.4084 15.1493 12.4678C15.1493 10.9717 14.2662 9.69615 13.0286 9.18785ZM6.73868 6.39377C7.73263 6.39377 8.54095 7.25405 8.54095 8.3119C8.54095 9.14501 8.03812 9.85376 7.33944 10.1181V10.23C7.33944 10.583 7.0703 10.8694 6.73868 10.8694C6.40707 10.8694 6.13793 10.583 6.13793 10.23H5.53717C5.20555 10.23 4.93642 9.94359 4.93642 9.59065C4.93642 9.23772 5.20555 8.95128 5.53717 8.95128H6.73868C7.07 8.95128 7.33944 8.66451 7.33944 8.3119C7.33944 7.95928 7.07 7.67252 6.73868 7.67252C5.74473 7.67252 4.93642 6.81224 4.93642 5.75439C4.93642 4.92128 5.43895 4.21221 6.13793 3.94815V3.83626C6.13793 3.48333 6.40707 3.19688 6.73868 3.19688C7.0703 3.19688 7.33944 3.48333 7.33944 3.83626H7.9402C8.27181 3.83626 8.54095 4.1227 8.54095 4.47564C8.54095 4.82857 8.27181 5.11501 7.9402 5.11501H6.73868C6.40737 5.11501 6.13793 5.40177 6.13793 5.75439C6.13793 6.10701 6.40737 6.39377 6.73868 6.39377ZM11.8451 14.7057C10.6856 14.7057 9.74246 13.7018 9.74246 12.4678C9.74246 11.2339 10.6856 10.23 11.8451 10.23C13.0046 10.23 13.9478 11.2339 13.9478 12.4678C13.9478 13.7018 13.0046 14.7057 11.8451 14.7057Z" fill="#11B603" />
                        </svg> : <svg width="11" height="16" viewBox="0 0 11 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M0 0.726797H0.834942V2.09318C0.834942 4.28084 1.82574 6.24319 3.3676 7.10808L4.30273 7.63137L3.3676 8.15467C1.82574 9.01955 0.834942 10.9819 0.834942 13.1696V14.5359H0V15.2627H10.0193V14.5359H9.18436V13.1696C9.18436 10.9819 8.19356 9.01955 6.6517 8.15467L5.71657 7.63137L6.6517 7.10808C8.19356 6.24319 9.18436 4.28084 9.18436 2.09318V0.726797H10.0193V0H0V0.726797ZM6.43462 8.82332C7.07474 9.18672 7.60354 9.76089 7.98204 10.4804C7.5924 10.8874 6.58491 11.8105 5.28796 11.7741V11.2654H4.73134V11.6942C4.66454 11.6796 4.59218 11.6578 4.51982 11.636C3.10042 11.1781 2.10405 11.5488 1.51959 11.934C1.80347 10.5604 2.55492 9.40476 3.58468 8.82332L4.73134 8.17647V9.81176H5.28796V8.17647L6.43462 8.82332ZM8.62773 2.09318C8.62773 2.37663 8.61103 2.65281 8.5665 2.92173C7.62023 3.01621 6.98568 3.48136 6.41792 3.88837C5.76666 4.36805 5.2991 4.70965 4.54208 4.38259C3.23957 3.80842 2.24878 4.07733 1.80347 4.2663C1.53629 3.61218 1.39157 2.86358 1.39157 2.09318V0.726797H8.62773V2.09318Z" fill="#F77F00" />
                            </svg>
                        }
                         <Tooltip placement="topLeft" title={status}>
                        {status}
                      </Tooltip>
                    </Tag>
                );
            }
        },
    
        {
            title: 'ORDER STATUS',
            key: 'order_status',
            dataIndex: 'order_status',
            render: (status) => {
                let color = status === 'Delivered' ? '#05f70070' : '#f759006e';
    
                return (
                    <Tag color={color} className="delivery_status_badge">
                        {status === 'Delivered' ? <svg width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M0.657689 9.78134C-0.307818 8.71818 1.0134 8.25305 1.6232 8.45239C2.43625 8.65173 3.1985 9.11687 3.85911 9.7149C4.72298 10.5123 5.63767 9.18331 6.14583 8.38594C7.87358 5.66158 9.85541 3.20302 12.0405 1.01024C13.4634 -0.318715 14.3272 1.01024 13.0568 2.40564C10.2111 5.52869 7.72113 9.11687 5.7393 13.1702C5.43441 13.7018 5.07869 14.2998 4.62135 14.1004C4.31645 13.9676 1.11503 10.3129 0.657689 9.78134Z" fill="#11B603" />
                        </svg>
                            : <svg width="12" height="13" viewBox="0 0 12 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M5.86596 0C5.61748 0 5.41626 0.211939 5.41626 0.472696V2.85193V2.85267C5.41626 2.85267 5.41626 2.85342 5.41626 2.85419V2.88651C5.41697 2.88651 5.41697 2.88651 5.4177 2.88651C5.43418 3.13149 5.62825 3.32462 5.86598 3.32462C6.10373 3.32462 6.29813 3.13149 6.31428 2.88651C6.31499 2.88651 6.31536 2.88651 6.31573 2.88651V0.47272C6.31566 0.211915 6.11444 0 5.86596 0Z" fill="#EA5B01" />
                                <path d="M5.86598 8.98792C5.62825 8.98792 5.43418 9.18182 5.4177 9.4268C5.41699 9.4268 5.41699 9.4268 5.41626 9.4268V9.45912C5.41626 9.45987 5.41626 9.45987 5.41626 9.46064V9.46138V11.8398C5.41626 11.8406 5.41626 11.8406 5.41626 11.8406C5.41626 12.1013 5.61748 12.3125 5.86595 12.3125C6.11445 12.3125 6.31567 12.1013 6.31567 11.8406V9.4268C6.31528 9.4268 6.31496 9.4268 6.31423 9.4268C6.29812 9.18182 6.1037 8.98792 5.86598 8.98792Z" fill="#EA5B01" />
                                <path d="M2.76884 1.47064L3.9017 3.53046C3.90206 3.53046 3.90241 3.53121 3.90241 3.53121C3.90241 3.53121 3.90241 3.53195 3.90309 3.53195L3.91813 3.5605C3.91884 3.5605 3.91884 3.55975 3.91957 3.55975C4.05026 3.76342 4.31092 3.82878 4.5168 3.70404C4.72231 3.57928 4.79896 3.3095 4.69618 3.08857C4.69655 3.08857 4.69726 3.08857 4.69726 3.08857L3.54724 0.997898C3.42301 0.771699 3.14802 0.694287 2.93282 0.825062C2.71799 0.955068 2.64424 1.24365 2.7681 1.46985C2.76813 1.46987 2.76847 1.46987 2.76884 1.47064Z" fill="#EA5B01" />
                                <path d="M8.96364 10.8434L7.81357 8.75268C7.81286 8.75268 7.81286 8.75268 7.81212 8.75343C7.68143 8.54976 7.42079 8.48438 7.21487 8.60914C7.00934 8.73393 6.9331 9.00293 7.03549 9.22391C7.03512 9.22391 7.03482 9.22391 7.03441 9.22461L7.05018 9.25241C7.05018 9.25311 7.05018 9.25311 7.05018 9.25392C7.05084 9.25392 7.05084 9.25392 7.05084 9.25462L8.18446 11.3145V11.3152C8.30871 11.5406 8.58367 11.618 8.79887 11.488C9.01375 11.3574 9.08752 11.0688 8.96364 10.8434Z" fill="#EA5B01" />
                                <path d="M0.950149 3.72295C0.950515 3.72369 0.950515 3.72369 0.950515 3.72369L2.91329 4.91258C2.914 4.91332 2.914 4.91332 2.91473 4.91332C2.91473 4.91332 2.9151 4.91407 2.91542 4.91407L2.94228 4.93061C2.94267 4.92987 2.94267 4.9291 2.94267 4.9291C3.15319 5.03657 3.41024 4.9569 3.52878 4.74049C3.64767 4.5248 3.58497 4.25127 3.39092 4.11373C3.39163 4.11373 3.39163 4.11299 3.392 4.11299L1.39985 2.90607C1.18467 2.77532 0.90968 2.85273 0.785431 3.07816C0.661205 3.30438 0.734971 3.59296 0.950149 3.72295Z" fill="#EA5B01" />
                                <path d="M10.7818 8.58961L8.78963 7.38267C8.78927 7.38341 8.78897 7.38341 8.78897 7.38421C8.57842 7.27669 8.32167 7.35641 8.20286 7.57205C8.08397 7.78849 8.14664 8.06204 8.34072 8.19885C8.34001 8.19955 8.34001 8.19955 8.33964 8.20037L8.3665 8.21614C8.36691 8.21689 8.36721 8.21689 8.36757 8.21689C8.36799 8.21689 8.36799 8.21758 8.36865 8.21758L10.3314 9.40724H10.3318C10.547 9.5372 10.822 9.4606 10.9462 9.23435C11.0704 9.0089 10.9966 8.72032 10.7818 8.58961Z" fill="#EA5B01" />
                                <path d="M2.71826 6.62827H2.71897H2.75011C2.75011 6.62827 2.74972 6.62752 2.74972 6.62675C2.98318 6.61018 3.16793 6.40577 3.16793 6.15627C3.16793 5.90754 2.98316 5.70313 2.74972 5.68584C2.74972 5.68584 2.75011 5.6851 2.75011 5.68433H0.449697C0.201222 5.68433 0 5.89624 0 6.15625C0 6.41698 0.201222 6.6282 0.449697 6.6282C0.450086 6.6282 0.450407 6.6282 0.450407 6.6282H2.71681C2.71752 6.62827 2.71752 6.62827 2.71826 6.62827Z" fill="#EA5B01" />
                                <path d="M11.2823 5.68414H8.98186C8.98186 5.68489 8.98223 5.68566 8.98223 5.68566C8.74879 5.70295 8.56445 5.90734 8.56445 6.15609C8.56445 6.4056 8.74886 6.61001 8.98223 6.62655C8.98223 6.62725 8.98186 6.62807 8.98186 6.62807H9.01296H9.01367C9.01438 6.62807 9.01438 6.62807 9.01511 6.62807H11.2814H11.2822C11.5307 6.62807 11.7319 6.4169 11.7319 6.15612C11.732 5.89606 11.5308 5.68414 11.2823 5.68414Z" fill="#EA5B01" />
                                <path d="M3.36443 8.21682C3.36443 8.21682 3.36482 8.21682 3.36514 8.21607L3.392 8.20035C3.39163 8.1996 3.39163 8.1996 3.39131 8.19883C3.58536 8.06202 3.64767 7.78847 3.52915 7.57203C3.41026 7.35639 3.15321 7.27674 2.94269 7.38414C2.94269 7.3834 2.94269 7.3834 2.9423 7.38263L0.950149 8.58952C0.734971 8.7203 0.661205 9.00888 0.785431 9.23433C0.90968 9.46053 1.18467 9.5372 1.39985 9.40722C1.40021 9.40722 1.40021 9.40722 1.40021 9.40722L3.36335 8.21757C3.36335 8.21757 3.36372 8.21682 3.36443 8.21682Z" fill="#EA5B01" />
                                <path d="M8.33948 4.11293C8.33984 4.11293 8.33984 4.11367 8.34055 4.11367C8.14648 4.25118 8.08417 4.52473 8.20269 4.74042C8.32158 4.95686 8.57828 5.03651 8.78881 4.92903C8.78881 4.92903 8.78917 4.92978 8.78947 4.93055L8.81596 4.914C8.81637 4.914 8.81667 4.91326 8.81704 4.91326C8.81745 4.91326 8.81745 4.91326 8.81812 4.91251L10.7809 3.72363C10.7809 3.72363 10.7812 3.72363 10.7816 3.72289C10.9964 3.59288 11.0702 3.3043 10.9463 3.0781C10.8217 2.85265 10.5467 2.77526 10.3315 2.90601L8.33948 4.11293Z" fill="#EA5B01" />
                                <path d="M4.51681 8.60908C4.31096 8.48431 4.05032 8.5497 3.91958 8.75337C3.91887 8.75262 3.91887 8.75262 3.91814 8.75262L2.76812 10.8433C2.64424 11.0687 2.71798 11.3573 2.93284 11.4881C3.14804 11.6181 3.42335 11.5407 3.54725 11.3152V11.3145L4.6808 9.25469C4.6808 9.25399 4.68116 9.25399 4.68151 9.25399C4.68151 9.25324 4.68151 9.25324 4.68187 9.25245L4.69727 9.22465C4.69727 9.22395 4.69656 9.22395 4.6962 9.22395C4.79895 9.00287 4.72266 8.73384 4.51681 8.60908Z" fill="#EA5B01" />
                                <path d="M7.21511 3.70408C7.42099 3.82882 7.68163 3.76345 7.81236 3.55979C7.81307 3.55979 7.81307 3.56053 7.81381 3.56053L7.82921 3.53199C7.82957 3.53199 7.83031 3.5305 7.83031 3.5305L8.96346 1.46991C9.08734 1.24371 9.01401 0.955153 8.79916 0.825123C8.58396 0.694348 8.30899 0.77176 8.18474 0.997959L7.03465 3.08861C7.03465 3.08861 7.03536 3.08861 7.03573 3.08935C6.93334 3.30952 7.00958 3.57931 7.21511 3.70408Z" fill="#EA5B01" />
                            </svg>
                        }
                        {status}
                    </Tag>
                );
            }
        },
    ];

    return (
        <Table className="order_table" onRow={(record, rowIndex) => {
            return {
              onClick: event => {
               history.push(`/${belongsTo === 'user' ? 'user': 'company'}/track/order/${record.track_number}`)
              }, // click row
            };
          }} columns={columns} loading={loading} scroll={{ x: 900 }} sticky  dataSource={data} />
    )
}

export default OrderTable
